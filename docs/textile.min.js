!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("textile",[],t):"object"==typeof exports?exports.textile=t():e.textile=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e,t){return t=s(s({},r.defaults),t||{}),l(e,t).map(i).join("")}var s=n(1),a=n(2),i=a.toHTML,c=n(6),l=c.parseFlow,o=n(3),p=o.parseHtml;e.exports=r,r.defaults={breaks:!0},r.setOptions=r.setoptions=function(e){return s(r.defaults,e),this},r.parse=r.convert=r,r.html_parser=p,r.jsonml=function(e,t){return t=s(s({},r.defaults),t||{}),["html"].concat(l(e,t))},r.serialize=i},function(e,t){"use strict";e.exports=function(e,t){if(t)for(var n in t)e[n]=t[n];return e}},function(e,t,n){"use strict";function r(e,t){return t?e.map(function(e){if(/^\n\t+/.test(e))if(t<0)e=e.slice(0,t);else for(var n=0;n<t;n++)e+="\t";else if(Array.isArray(e))return r(e,t);return e}):e}function s(e,t){return e.replace(/&(?!(#\d{2,}|#x[\da-fA-F]{2,}|[a-zA-Z][a-zA-Z1-4]{1,6});)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,t?"&quot;":'"').replace(/'/g,t?"&#39;":"'")}function a(e){if(e=e.concat(),"string"==typeof e)return s(e);var t=e.shift(),n={},r="",l=[];for(e.length&&"object"===i(e[0])&&!Array.isArray(e[0])&&(n=e.shift());e.length;)l.push(a(e.shift()));for(var o in n)r+=null==n[o]?" "+o:" "+o+'="'+s(String(n[o]),!0)+'"';return"!"===t?"<!--"+l.join("")+"-->":t in c?"<"+t+r+" />":"<"+t+r+">"+l.join("")+"</"+t+">"}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},c=n(3).singletons;e.exports={reIndent:r,toHTML:a,escape:s}},function(e,t,n){"use strict";function r(){return!0}function s(e){return f.exec(e)}function a(e){return g.exec(e)}function i(e){return v.exec(e)}function c(e){return h.exec(e)}function l(e){for(var t={},n=void 0;n=d.exec(e);)t[n[1]]="string"==typeof n[2]?n[2].replace(/^(["'])(.*)\1$/,"$2"):null,e=e.slice(n[0].length);return t}function o(e,t){var n=[],a=n,o=[],p=t?function(e){return e in t}:r,d=void 0,f=void 0;e="string"==typeof e?u(e):e;do if((d=s(e))&&p("!"))e.advance(d[0]),a.push(["!",d[1]]);else if((d=c(e))&&p(d[1])){if(f=d[1],o.length)for(var h=o.length-1;h>=0;h--){var v=o[h];if(v[0]===f){o.splice(h),a=o[o.length-1]||n;break}}e.advance(d[0])}else if((d=i(e))&&p(d[1])){e.advance(d[0]),f=d[1];var g=d[3]||d[1]in x,m=d[4],b=[f];d[2]&&b.push(l(d[2])),g?(a.push(b),m&&a.push(m)):(m&&b.push(m),o.push(b),a.push(b),a=b)}else d=/([^<]+|[^\0])/.exec(e),d&&a.push(d[0]),e.advance(d?d[0].length||1:1);while(e.valueOf());return n}var p=n(4),u=n(5);p.pattern.html_id="[a-zA-Z][a-zA-Z\\d:]*",p.pattern.html_attr="(?:\"[^\"]+\"|'[^']+'|[^>\\s]+)";var d=p.compile(/^\s*([^=\s]+)(?:\s*=\s*("[^"]+"|'[^']+'|[^>\s]+))?/),f=p.compile(/^<!--(.+?)-->/,"s"),h=p.compile(/^<\/([:html_id:])([^>]*)>/),v=p.compile(/^<([:html_id:])((?:\s[^=\s\/]+(?:\s*=\s*[:html_attr:])?)+)?\s*(\/?)>(\n*)/),g=p.compile(/^\s*<([:html_id:](?::[a-zA-Z\d]+)*)((?:\s[^=\s\/]+(?:\s*=\s*[:html_attr:])?)+)?\s*(\/?)>(\n*)/),x={br:1,hr:1,img:1,link:1,meta:1,wbr:1,area:1,param:1,input:1,option:1,base:1,col:1};e.exports={singletons:x,parseHtml:o,parseHtmlAttr:l,testCloseTag:c,testOpenTagBlock:a,testOpenTag:i,testComment:s}},function(e,t){"use strict";var n={},r=e.exports={pattern:{punct:"[!-/:-@\\[\\\\\\]-`{-~]",space:"\\s"},escape:function(e){return e.replace(/[\-\[\]\{\}\(\)\*\+\?\.,\\\^\$\|#\s]/g,"\\$&")},collapse:function(e){return e.replace(/(?:#.*?(?:\n|$))/g,"").replace(/\s+/g,"")},expandPatterns:function(e){return e.replace(/\[:\s*(\w+)\s*:\]/g,function(t,n){var s=r.pattern[n];if(s)return r.expandPatterns(s);throw new Error("Pattern "+t+" not found in "+e)})},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},compile:function(e,t){r.isRegExp(e)&&(1===arguments.length&&(t=(e.global?"g":"")+(e.ignoreCase?"i":"")+(e.multiline?"m":"")),e=e.source);var s=e+(t||"");if(s in n)return n[s];var a=r.expandPatterns(e);return t&&/x/.test(t)&&(a=r.collapse(a)),t&&/s/.test(t)&&(a=a.replace(/([^\\])\./g,"$1[^\\0]")),t=(t||"").replace(/[^gim]/g,""),n[s]=new RegExp(a,t)}}},function(e,t){"use strict";e.exports=function(e){var t=String(e),n=null,r=0;return{save:function(){n=r},load:function(){r=n,e=t.slice(r),this.$=e},advance:function(n){return r+="string"==typeof n?n.length:n,e=t.slice(r),this.$=e,e},lookbehind:function(e){return e=null==e?1:e,t.slice(r-e,r)},startsWith:function(t){return e.substring(0,t.length)===t},valueOf:function(){return this.$=e,e},toString:function(){return this.$=e,e}}}},function(e,t,n){"use strict";function r(e,t,n,r,s){t=t||"p";var a=[];return e.split(/(?:\r?\n){2,}/).forEach(function(e,i){"p"===t&&/^\s/.test(e)?(e=e.replace(/\r?\n[\t ]/g," ").trim(),a=a.concat(g(e,s))):(r&&i&&a.push(r),a.push(n?[t,n].concat(g(e,s)):[t].concat(g(e,s))))}),a}function s(e,t){var n=a(),o=void 0,v=void 0;for(e=i(e.replace(/^( *\r?\n)+/,""));e.valueOf();)if(e.save(),v=R.exec(e))o||(o={}),e.advance(v[0]),o[v[1]]=v[2];else{if(n.linebreak(),v=C.exec(e)){e.advance(v[0]);var x=v[0],y=b(e,x);if(y&&(e.advance(y[0]),y=y[1]),v=/^\.(\.?)(?:\s|(?=:))/.exec(e)){var S=!!v[1],k=S?Z:H;if(v=k.exec(e.advance(v[0])),e.advance(v[0]),"bq"===x){var O=v[1];(v=/^:(\S+)\s+/.exec(O))&&(y||(y={}),y.cite=v[1],O=O.slice(v[0].length));var L=r(O,"p",m(y,{cite:1,id:1}),"\n",t);n.add(["blockquote",y,"\n"].concat(L).concat(["\n"]))}else if("bc"===x){var E=y?m(y,{id:1}):null;n.add(["pre",y,E?["code",E,v[1]]:["code",v[1]]])}else if("notextile"===x)n.merge(p(v[1]));else if("###"===x);else if("pre"===x)n.add(["pre",y,v[1]]);else if(D.test(x)){var P=x.replace(/\D+/g,"");y||(y={}),y["class"]=(y["class"]?y["class"]+" ":"")+"footnote",y.id="fn"+P,n.add(["p",y,["a",{href:"#fnr"+P},["sup",P]]," "].concat(g(v[1],t)))}else n.merge(r(v[1],x,y,"\n",t));continue}e.load()}if(v=f(e))e.advance(v[0]+(/(?:\s*\n+)+/.exec(e)||[])[0]),n.add(["!",v[1]]);else{if(v=h(e)){var F=v[1],M=v[3]||F in d,W=v[4];if(F in z){e.advance(v[0]);var I=[F];if(v[2]&&I.push(u(v[2])),M){n.add(I);continue}var B=c.compile("^(.*?)(\\s*)(</"+F+"\\s*>)(\\s*)","s");if(v=B.exec(e)){e.advance(v[0]),"pre"===F?(I.push(W),I=I.concat(p(v[1].replace(/(\r?\n)+$/,""),{code:1})),v[2]&&I.push(v[2]),n.add(I)):"notextile"===F?(I=p(v[1].trim()),n.merge(I)):"script"===F||"noscript"===F?(I.push(W+v[1]),n.add(I)):(/\n/.test(W)&&I.push("\n"),I=/\n/.test(v[1])?I.concat(s(v[1],t)):I.concat(g(v[1].replace(/^ +/,""),t)),/\n/.test(v[2])&&I.push("\n"),n.add(I));continue}}e.load()}(v=q.exec(e))?(e.advance(v[0]),n.add(["hr"])):(v=$(e))?(e.advance(v[0]),n.add(A(v[0],t))):(v=_(e))?(e.advance(v[0]),n.add(w(v[0],t))):(v=j(e))?(e.advance(v[0]),n.add(T(v[1],t))):(v=H.exec(e),n.merge(r(v[1],"p",void 0,"\n",t)),e.advance(v[0]))}}return o?l(n.get(),o):n.get()}var a=n(7),i=n(5),c=n(4),l=n(8),o=n(3),p=o.parseHtml,u=o.parseHtmlAttr,d=o.singletons,f=o.testComment,h=o.testOpenTagBlock,v=n(9),g=v.parsePhrase,x=n(10),m=x.copyAttr,b=x.parseAttr,y=n(13),$=y.testList,A=y.parseList,S=n(14),_=S.testDefList,w=S.parseDefList,k=n(15),j=k.testTable,T=k.parseTable,O=n(12),L=O.txblocks,E=O.txlisthd,P=O.txattr;c.pattern.txblocks=L,c.pattern.txlisthd=E,c.pattern.txattr=P;var z={p:0,hr:0,ul:1,ol:0,li:0,div:1,pre:0,object:1,script:0,noscript:0,blockquote:1,notextile:1},C=c.compile(/^([:txblocks:])/),H=c.compile(/^(.*?)($|\r?\n(?=[:txlisthd:])|\r?\n(?:\s*\n|$)+)/,"s"),Z=c.compile(/^(.*?)($|\r?\n(?=[:txlisthd:])|\r?\n+(?=[:txblocks:][:txattr:]\.))/,"s"),q=/^(\-\-\-+|\*\*\*+|___+)(\r?\n\s+|$)/,R=c.compile(/^\[([^\]]+)\]((?:https?:\/\/|\/)\S+)(?:\s*\n|$)/),D=/^fn\d+$/;t.parseFlow=s},function(e,t){"use strict";e.exports=function(e){var t=Array.isArray(e)?e:[];return{add:function(e){return"string"==typeof e&&"string"==typeof t[t.length-1]?t[t.length-1]+=e:Array.isArray(e)?t.push(e.filter(function(e){return void 0!==e})):e&&t.push(e),this},merge:function(e){for(var t=0,n=e.length;t<n;t++)this.add(e[t]);return this},linebreak:function(){t.length&&this.add("\n")},get:function(){return t}}}},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};e.exports=function r(e,t){if(Array.isArray(e)){if("a"===e[0]){var s=e[1];"object"===("undefined"==typeof s?"undefined":n(s))&&"href"in s&&s.href in t&&(s.href=t[s.href])}for(var a=0,i=e.length;a<i;a++)Array.isArray(e[a])&&r(e[a],t)}return e}},function(e,t,n){"use strict";function r(e,t){e=s(e);var n=a(),c=void 0,o=void 0;do if(e.save(),e.startsWith("\r\n")&&e.advance(1),e.startsWith("\n"))e.advance(1),t.breaks&&n.add(["br"]),n.add("\n");else if(c=/^==(.*?)==/.exec(e))e.advance(c[0]),n.add(c[1]);else{var u=e.lookbehind(1),g=!u||/^[\s>.,"'?!;:()]$/.test(u);if((c=$.exec(e))&&(g||c[1])){e.advance(c[0]);var x=c[2],m=c[1],b=y[x],O="code"===b;(o=!O&&l(e,b,x))&&(e.advance(o[0]),o=o[1]);var L=void 0,E=void 0;if("["===m)L="^(.*?)",E="(?:])";else if("{"===m)L="^(.*?)",E="(?:})";else{var P=i.escape(x.charAt(0));L=O?"^(\\S+|\\S+.*?\\S)":"^([^\\s"+P+"]+|[^\\s"+P+"].*?\\S("+P+"*))",E="(?=$|[\\s.,\"'!?;:()«»„“”‚‘’])"}var z=i.compile(L+"("+i.escape(x)+")"+E);if((c=z.exec(e))&&c[1]){e.advance(c[0]),O?n.add([b,c[1]]):n.add([b,o].concat(r(c[1],t)));continue}e.load()}if((c=A.exec(e))||(c=S.exec(e))){e.advance(c[0]),o=c[1]&&l(c[1],"img");var C=o?o[1]:{src:""},H=["img",C];C.src=c[2],C.alt=c[3]?C.title=c[3]:"",c[4]&&(H=["a",{href:c[4]},H]),n.add(H)}else if(c=h(e))e.advance(c[0]),n.add(["!",c[1]]);else{if(c=v(e)){e.advance(c[0]);var Z=c[1],q=c[3]||c[1]in f,R=[Z],D=c[4];if(c[2]&&R.push(d(c[2])),q){n.add(R).add(D);continue}var F=i.compile("^(.*?)(</"+Z+"\\s*>)","s");if(c=F.exec(e)){if(e.advance(c[0]),"code"===Z)R.push(D,c[1]);else{if("notextile"===Z){n.merge(r(c[1],t));continue}R=R.concat(r(c[1],t))}n.add(R);continue}e.load()}if((c=T.exec(e))&&/\S/.test(u))e.advance(c[0]),n.add(["sup",{"class":"footnote",id:"fnr"+c[1]},"!"===c[2]?c[1]:["a",{href:"#fn"+c[1]},c[1]]]);else if(c=_.exec(e)){e.advance(c[0]);var M=["span",{"class":"caps"},c[1]];c[2]&&(M=["acronym",{title:c[2]},M]),n.add(M)}else if(g&&(c=w.exec(e))||(c=k.exec(e))){e.advance(c[0]);var W=c[1].match(j),I=W?c[1].slice(0,c[1].length-W[0].length):c[1];(o=l(I,"a"))?(I=I.slice(o[0]),o=o[1]):o={},W&&!I&&(I=W[0],W=""),o.href=c[2],W&&(o.title=W[1]),n.add(["a",o].concat(r(I.replace(/^(\.?\s*)/,""),t)))}else c=/([a-zA-Z0-9,.':]+|[ \f\r\t\v\xA0\u2028\u2029]+|[^\0])/.exec(e),c&&n.add(c[0]),e.advance(c?c[0].length||1:1)}}while(e.valueOf());return n.get().map(p)}var s=n(5),a=n(7),i=n(4),c=n(10),l=c.parseAttr,o=n(11),p=o.parseGlyph,u=n(3),d=u.parseHtmlAttr,f=u.singletons,h=u.testComment,v=u.testOpenTag,g=n(12),x=g.ucaps,m=g.txattr,b=g.txcite;i.pattern.txattr=m,i.pattern.txcite=b,i.pattern.ucaps=x;var y={"*":"strong","**":"b","??":"cite",_:"em",__:"i","-":"del","%":"span","+":"ins","~":"sub","^":"sup","@":"code"},$=/^([\[\{]?)(__?|\*\*?|\?\?|[\-\+\^~@%])/,A=i.compile(/^!(?!\s)([:txattr:](?:\.[^\n\S]|\.(?:[^\.\/]))?)([^!\s]+?) ?(?:\(((?:[^\(\)]|\([^\(\)]+\))+)\))?!(?::([^\s]+?(?=[!-\.:-@\[\\\]-`{-~](?:$|\s)|\s|$)))?/),S=i.compile(/^\[!(?!\s)([:txattr:](?:\.[^\n\S]|\.(?:[^\.\/]))?)([^!\s]+?) ?(?:\(((?:[^\(\)]|\([^\(\)]+\))+)\))?!(?::([^\s]+?(?=[!-\.:-@\[\\\]-`{-~](?:$|\s)|\s|$)))?\]/),_=i.compile(/^((?!TM\)|tm\))[[:ucaps:]](?:[[:ucaps:]\d]{1,}(?=\()|[[:ucaps:]\d]{2,}))(?:\((.*?)\))?(?=\W|$)/),w=i.compile(/^"(?!\s)((?:[^\n"]|"(?![\s:])[^\n"]+"(?!:))+)"[:txcite:]/),k=/^\["([^\n]+?)":((?:\[[a-z0-9]*\]|[^\]])+)\]/,j=/\s*\(((?:\([^\(\)]*\)|[^\(\)])+)\)$/,T=/^\[(\d+)(!?)\]/;t.parsePhrase=r},function(e,t){"use strict";function n(e,t){if(e){var n={};for(var r in e)!(r in e)||t&&r in t||(n[r]=e[r]);return n}}function r(e){return/^(?:table|t[dh]|t(?:foot|head|body)|b[qc]|div|notextile|pre|h[1-6]|fn\\d+|p|###)$/.test(e)}function s(e,t,n){if(e=String(e),e&&"notextile"!==t){var s=void 0,m={},b={style:m},y=e,$=r(t),A="img"===t,S="li"===t,_=!$&&!A&&"a"!==t,w=A?o:l;do if(s=f.exec(y))s[1].split(";").forEach(function(e){var t=e.match(h);t&&(m[t[1]]=t[2])}),y=y.slice(s[0].length);else if(s=v.exec(y)){var k=y.slice(s[0].length);!k&&_||n&&n===k.slice(0,n.length)?s=null:(b.lang=s[1],y=y.slice(s[0].length))}else if(s=a.exec(y)){var j=y.slice(s[0].length);if(!j&&_||n&&(" "===j[0]||n===j.slice(0,n.length)))s=null;else{var T=s[1].split("#");T[0]&&(b["class"]=T[0]),T[1]&&(b.id=T[1]),y=j}}else{if($||S){if(s=i.exec(y)){m["padding-left"]=s[1].length+"em",y=y.slice(s[0].length);continue}if(s=c.exec(y)){m["padding-right"]=s[1].length+"em",y=y.slice(s[0].length);continue}}if((A||$||S)&&(s=w.exec(y))){var O=g[s[1]];A?b.align=O:m["text-align"]=O,y=y.slice(s[0].length)}else if("td"!==t&&"tr"!==t||!(s=p.exec(y))){if("td"===t){if(s=u.exec(y)){b.colspan=s[1],y=y.slice(s[0].length);continue}if(s=d.exec(y)){b.rowspan=s[1],y=y.slice(s[0].length);continue}}}else m["vertical-align"]=x[s[1]],y=y.slice(s[0].length)}while(s);var L=[];for(var E in m)L.push(E+":"+m[E]);return L.length?b.style=L.join(";"):delete b.style,y===e?void 0:[e.length-y.length,b]}}var a=/^\(([^\(\)\n]+)\)/,i=/^(\(+)/,c=/^(\)+)/,l=/^(<>|<|>|=)/,o=/^(<|>|=)/,p=/^(~|\^|\-)/,u=/^\\(\d+)/,d=/^\/(\d+)/,f=/^\{([^\}]*)\}/,h=/^\s*([^:\s]+)\s*:\s*(.+)\s*$/,v=/^\[([^\[\]\n]+)\]/,g={"<":"left","=":"center",">":"right","<>":"justify"},x={"~":"bottom","^":"top","-":"middle"};e.exports={copyAttr:n,parseAttr:s}},function(e,t,n){"use strict";var r=n(4),s=/(\w)'(\w)/g,a=/([^\-]|^)->/,i=r.compile(/([^\s\[\(])"(?=$|\s|[:punct:])/g),c=r.compile(/([^\s\[\(])'(?=$|\s|[:punct:])/g),l=/(\b ?|\s|^)(?:\(C\)|\[C\])/gi,o=/([\d\.,]+['"]? ?)x( ?)(?=[\d\.,]['"]?)/g,p=r.compile(/(\d*[\.,]?\d+)"(?=\s|$|[:punct:])/g),u=/([^.]?)\.{3}/g,d=/(^|[\s\w])--([\s\w]|$)/g,f=/ - /g,h=/"/g,v=/'/g,g=/(\b ?|\s|^)(?:\(R\)|\[R\])/gi,x=r.compile(/(\d*[\.,]?\d+)'(?=\s|$|[:punct:])/g),m=/(\b ?|\s|^)(?:\((?:TM|tm)\)|\[(?:TM|tm)\])/g;t.parseGlyph=function(e){return"string"!=typeof e?e:e.replace(a,"$1&#8594;").replace(o,"$1&#215;$2").replace(u,"$1&#8230;").replace(d,"$1&#8212;$2").replace(f," &#8211; ").replace(m,"$1&#8482;").replace(g,"$1&#174;").replace(l,"$1&#169;").replace(p,"$1&#8243;").replace(i,"$1&#8221;").replace(h,"&#8220;").replace(x,"$1&#8242;").replace(s,"$1&#8217;$2").replace(c,"$1&#8217;").replace(v,"&#8216;").replace(/[\(\[]1\/4[\]\)]/,"&#188;").replace(/[\(\[]1\/2[\]\)]/,"&#189;").replace(/[\(\[]3\/4[\]\)]/,"&#190;").replace(/[\(\[]o[\]\)]/,"&#176;").replace(/[\(\[]\+\/\-[\]\)]/,"&#177;")}},function(e,t){"use strict";t.txblocks="(?:b[qc]|div|notextile|pre|h[1-6]|fn\\d+|p|###)",t.ucaps="A-ZÀ-ÖØ-ÞĀĂĄĆĈĊČĎĐĒĔĖĘĚĜĞĠĢĤĦĨĪĬĮİĲĴĶĹĻĽĿŁŃŅŇŊŌŎŐŒŔŖŘŚŜŞŠŢŤŦŨŪŬŮŰŲŴŶŸŹŻŽƁƂƄƆƇƉ-ƋƎ-ƑƓƔƖ-ƘƜƝƟƠƢƤƦƧƩƬƮƯƱ-ƳƵƷƸƼǄǇǊǍǏǑǓǕǗǙǛǞǠǢǤǦǨǪǬǮǱǴǶ-ǸǺǼǾȀȂȄȆȈȊȌȎȐȒȔȖȘȚȜȞȠȢȤȦȨȪȬȮȰȲȺȻȽȾɁɃ-ɆɈɊɌɎḀḂḄḆḈḊḌḎḐḒḔḖḘḚḜḞḠḢḤḦḨḪḬḮḰḲḴḶḸḺḼḾṀṂṄṆṈṊṌṎṐṒṔṖṘṚṜṞṠṢṤṦṨṪṬṮṰṲṴṶṸṺṼṾẀẂẄẆẈẊẌẎẐẒẔẞẠẢẤẦẨẪẬẮẰẲẴẶẸẺẼẾỀỂỄỆỈỊỌỎỐỒỔỖỘỚỜỞỠỢỤỦỨỪỬỮỰỲỴỶỸỺỼỾⱠⱢ-ⱤⱧⱩⱫⱭ-ⱰⱲⱵⱾⱿꜢꜤꜦꜨꜪꜬꜮꜲꜴꜶꜸꜺꜼꜾꝀꝂꝄꝆꝈꝊꝌꝎꝐꝒꝔꝖꝘꝚꝜꝞꝠꝢꝤꝦꝨꝪꝬꝮꝹꝻꝽꝾꞀꞂꞄꞆꞋꞍꞐꞒꞠꞢꞤꞦꞨꞪ",t.txcite=":((?:[^\\s()]|\\([^\\s()]+\\)|[()])+?)(?=[!-\\.:-@\\[\\\\\\]-`{-~]+(?:$|\\s)|$|\\s)";var n=t.attr_class="\\([^\\)]+\\)",r=t.attr_style="\\{[^\\}]+\\}",s=t.attr_lang="\\[[^\\[\\]]+\\]",a=t.attr_align="(?:<>|<|>|=)",i=t.attr_pad="[\\(\\)]+",c=t.txattr="(?:"+n+"|"+r+"|"+s+"|"+a+"|"+i+")*";t.txlisthd="[\\t ]*[\\#\\*]*(\\*|\\#(?:_|\\d+)?)"+c+"(?: \\S|\\.\\s*(?=\\S|\\n))"},function(e,t,n){"use strict";function r(e){for(var t="\n";e--;)t+="\t";return t}function s(e){return v.exec(e)}function a(e,t){e=i(e.replace(/(^|\r?\n)[\t ]+/,"$1"));for(var n=[],s={},a=t._lst||{},c=0,o=void 0,u=void 0,f=void 0,h=void 0;u=g.exec(e);){var v=["li"],x=u[1].length,m="#"===u[1].substr(-1)?"ol":"ul",b=null,y=void 0,$=void 0,A=void 0,S=void 0;if((f=/^(_|\d+)/.exec(u[2]))&&(c=isFinite(f[1])?parseInt(f[1],10):a[x]||s[x]||1,u[2]=u[2].slice(f[1].length)),(A=p(u[2],"li"))&&(u[2]=u[2].slice(A[0]),A=A[1]),/^\.\s*$/.test(u[2]))o=A||{},e.advance(u[0]);else{for(;n.length<x;)y=[m,{},r(n.length+1),b=["li"]],$=n[n.length-1],$&&($.li.push(r(n.length)),$.li.push(y)),n.push({ul:y,li:b,att:0}),s[n.length]=1;for(;n.length>x;)S=n.pop(),S.ul.push(r(n.length)),1!==S.att||S.ul[3][1].substr||l(S.ul[1],S.ul[3].splice(1,1)[0]);$=n[n.length-1],c&&($.ul[1].start=c,s[x]=c,c=0),o&&($.att=9,l($.ul[1],o),o=null),b||($.ul.push(r(n.length),v),$.li=v),A&&($.li.push(A),$.att++),Array.prototype.push.apply($.li,d(u[2].trim(),t)),e.advance(u[0]),s[x]=(s[x]||0)+1}}for(t._lst=s;n.length;)h=n.pop(),h.ul.push(r(n.length)),1!==h.att||h.ul[3][1].substr||l(h.ul[1],h.ul[3].splice(1,1)[0]);return h.ul}var i=n(5),c=n(4),l=n(1),o=n(10),p=o.parseAttr,u=n(9),d=u.parsePhrase,f=n(12),h=f.txlisthd;c.pattern.txlisthd=h;var v=c.compile(/^((?:[:txlisthd:][^\0]*?(?:\r?\n|$))+)(\s*\n|$)/,"s"),g=c.compile(/^([#\*]+)([^\0]+?)(\n(?=[:txlisthd:])|$)/,"s");e.exports={testList:s,parseList:a}},function(e,t,n){"use strict";function r(e){return i.exec(e)}function s(e,t){e=a(e.trim());for(var r=n(9).parsePhrase,s=n(6).parseFlow,i=["dl","\n"],l=void 0,o=void 0,p=void 0;p=c.exec(e);){for(l=p[1].split(/(?:^|\n)\- /).slice(1);l.length;)i.push("\t",["dt"].concat(r(l.shift().trim(),t)),"\n");o=p[2].trim(),i.push("\t",["dd"].concat(/=:$/.test(o)?s(o.slice(0,-2).trim(),t):r(o,t)),"\n"),e.advance(p[0])}return i}var a=n(5),i=/^((?:- (?:[^\n]\n?)+?)+:=(?: *\n[^\0]+?=:(?:\n|$)|(?:[^\0]+?(?:$|\n(?=\n|- )))))+/,c=/^((?:- (?:[^\n]\n?)+?)+):=( *\n[^\0]+?=:\s*(?:\n|$)|(?:[^\0]+?(?:$|\n(?=\n|- ))))/;t.testDefList=r,t.parseDefList=s},function(e,t,n){"use strict";function r(e){var t=["colgroup",{}];return e.split("|").forEach(function(e,n){var r=n?{}:t[1],s=e.trim(),a=void 0;s&&((a=/^\\(\d+)/.exec(s))&&(r.span=+a[1],s=s.slice(a[0].length)),(a=p(s,"col"))&&(c(r,a[1]),s=s.slice(a[0])),(a=/\b\d+\b/.exec(s))&&(r.width=+a[0])),n&&t.push("\n\t\t",["col",r])}),t.concat(["\n\t"])}function s(e){return x.exec(e)}function a(e,t){e=l(e.trim());var n=[],s=void 0,a=void 0,i={},o=void 0,u=void 0,f=void 0,v=void 0,g=void 0,x=void 0,_=0,w=function(e,t){o=[e,t||{}],n.push(o)};(x=m.exec(e))&&(e.advance(x[0]),v=p(x[2],"table"),v&&c(i,v[1]),x[3]&&(i.summary=x[3])),(x=y.exec(e))&&(a=["caption"],(v=p(x[1],"caption"))&&(a.push(v[1]),x[1]=x[1].slice(v[0])),/\./.test(x[1])?(a.push(x[1].slice(1).replace(/\|\s*$/,"").trim()),_++,e.advance(x[0])):a=null);do{if(x=$.exec(e))s=r(x[1]),_++;else if(x=A.exec(e)){var k=S[x[1]]||"tbody";v=p(x[2]+" ",k),w(k,v&&v[1]),_++}else if(x=b.exec(e)){o||w("tbody"),u=["tr"],x[2]&&(v=p(x[2],"tr"))&&u.push(v[1]),o.push("\n\t\t",u),f=l(x[3]);do{f.save();var j=f.startsWith("_"),T=[j?"th":"td"];if(j&&f.advance(1),v=p(f,"td"),v&&(f.advance(v[0]),T.push(v[1])),v||j){var O=/^\.\s*/.exec(f);O?f.advance(O[0]):(T=["td"],f.load())}var L=/^(==.*?==|[^\|])*/.exec(f);T=T.concat(d(L[0],t)),u.push("\n\t\t\t",T),g="|"===f.valueOf().charAt(L[0].length),f.advance(L[0].length+1)}while(g);u.push("\n\t\t")}x&&e.advance(x[0])}while(x);var E=["table",i];return _?(a&&E.push("\n\t",a),s&&E.push("\n\t",s),n.forEach(function(e){E.push("\n\t",e.concat(["\n\t"]))})):E=E.concat(h(n[0].slice(2),-1)),E.push("\n"),E}var i=n(4),c=n(1),l=n(5),o=n(10),p=o.parseAttr,u=n(9),d=u.parsePhrase,f=n(2),h=f.reIndent,v=n(12),g=v.txattr;i.pattern.txattr=g;var x=i.compile(/^((?:table[:txattr:]\.(?:\s(.+?))\s*\n)?(?:(?:[:txattr:]\.[^\n\S]*)?\|.*?\|[^\n\S]*(?:\n|$))+)([^\n\S]*\n)?/,"s"),m=/^table(_?)([^\n]*?)\.(?:[ \t](.+?))?\s*\n/,b=i.compile(/^(?:\|([~\^\-][:txattr:])\.\s*\n)?([:txattr:]\.[^\n\S]*)?\|(.*?)\|[^\n\S]*(\n|$)/,"s"),y=/^\|=([^\n+]*)\n/,$=/^\|:([^\n+]*)\|[\r\t ]*\n/,A=/^\|([\^\-~])([^\n+]*)\.[ \t\r]*\n/,S={"^":"thead","~":"tfoot","-":"tbody"};e.exports={parseColgroup:r,parseTable:a,testTable:s}}])});
//# sourceMappingURL=textile.min.js.map