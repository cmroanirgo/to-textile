!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.toTextile=e()}}(function(){return function e(t,n,r){function i(a,l){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!l&&c)return c(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return i(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){/*
 * @preserve
 * to-textile - an HTML to Textile converter
 *
 * Based on to-markdown by
 * Copyright 2011+, Dom Christie
 *
 * Copyright 2017 (c), cmroanirgo
 * Licenced under the MIT licence
 *
 */
"use strict";function r(e){return x.indexOf(e.nodeName.toLowerCase())!==-1}function i(e){return w.indexOf(e.nodeName.toLowerCase())!==-1}function o(e){var t=(new y).parseFromString(e,"text/html");return N(t.documentElement,r),t}function a(e){var t=C[e];return t?t:C[e]=t=new RegExp(String.fromCharCode(e),"g")}function l(e){return e.replace(a(8594),"->").replace(a(215)," x ").replace(a(8230),"...").replace(a(8212)," -- ").replace(a(8211)," - ").replace(a(8482),"(tm)").replace(a(174),"(r)").replace(a(169),"(c)").replace(a(8243),'"').replace(a(8221),'"').replace(a(8220),'"').replace(a(8242),"'").replace(a(8217),"'").replace(a(8217),"'").replace(a(8216),"'").replace(a(188),"(1/4)").replace(a(189),"(1/2)").replace(a(190),"(3/4)").replace(a(176),"(o)").replace(a(177),"(+/-)")}function c(e){for(var t,n,r,i=[e],o=[];i.length>0;)for(t=i.shift(),o.push(t),n=t.childNodes,r=0;r<n.length;r++)1===n[r].nodeType&&i.push(n[r]);return o.shift(),o}function u(e){for(var t="",n=0;n<e.childNodes.length;n++)if(1===e.childNodes[n].nodeType)t+=e.childNodes[n]._replacement;else{if(3!==e.childNodes[n].nodeType)continue;t+=e.childNodes[n].data}return l(t)}function f(e,t){return e.cloneNode(!1).outerHTML.replace("><",">"+t+"<")}function s(e,t){if("string"==typeof t)return t===e.nodeName.toLowerCase();if(Array.isArray(t))return t.indexOf(e.nodeName.toLowerCase())!==-1;if("function"==typeof t)return t.call(h,e);throw new TypeError("`filter` needs to be a string, array, or function")}function p(e,t){var n,i,o;return"left"===e?(n=t.previousSibling,i=/ $/):(n=t.nextSibling,i=/^ /),n&&(3===n.nodeType?o=i.test(n.nodeValue):1!==n.nodeType||r(n)||(o=i.test(n.textContent))),o}function d(e,t){var n="",i="";if(!r(e)){var o=/^[ \r\n\t]/.test(t),a=/[ \r\n\t]$/.test(t);o&&!p("left",e)&&(n=" "),a&&!p("right",e)&&(i=" ")}return{leading:n,trailing:i}}function m(e){var t,n=u(e);if(!i(e)&&!/A|TH|TD/.test(e.nodeName)&&/^\s*$/i.test(n))return void(e._replacement="");for(var r=0;r<g.length;r++){var o=g[r];if(s(e,o.filter)){if("function"!=typeof o.replacement)throw new TypeError("`replacement` needs to be a function that returns a string");var a=d(e,n);(a.leading||a.trailing)&&(n=n.trim()),t=a.leading+o.replacement.call(h,n,e)+a.trailing;break}}e._replacement=t}var h,g,v=e("./lib/tex-converters"),b=e("./lib/gfm-converters"),y=e("./lib/html-parser"),N=e("collapse-whitespace"),x=["address","article","aside","audio","blockquote","body","canvas","center","dd","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frameset","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","isindex","li","main","menu","nav","noframes","noscript","ol","output","p","pre","section","table","tbody","td","tfoot","th","thead","tr","ul"],w=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],C={};h=function(e,t){if(t=t||{},"string"!=typeof e)throw new TypeError(e+" is not a string");if(""===e)return"";e=e.replace(/(\d+)\. /g,"$1\\. ");var n,r=o(e).body,i=c(r);g=v.slice(0),t.gfm&&(g=b.concat(g)),t.converters&&(g=t.converters.concat(g));for(var a=i.length-1;a>=0;a--)m(i[a]);return n=u(r),n.replace(/^[\t\r\n]+|[\t\r\n\s]+$/g,"").replace(/\n\s+\n/g,"\n\n").replace(/\n{3,}/g,"\n\n")},h.isBlock=r,h.isVoid=i,h.outer=f,t.exports=h},{"./lib/gfm-converters":2,"./lib/html-parser":3,"./lib/tex-converters":4,"collapse-whitespace":5}],2:[function(e,t,n){"use strict";t.exports=[]},{}],3:[function(e,t,n){function r(){var e=!1;try{document.implementation.createHTMLDocument("").open()}catch(t){window.ActiveXObject&&(e=!0)}return e}var i="undefined"!=typeof window?window:this;t.exports=function(){var e=i.DOMParser,t=!1;try{(new e).parseFromString("","text/html")&&(t=!0)}catch(e){}return t}()?i.DOMParser:function(){var t=function(){};if("undefined"==typeof document){var n=e("jsdom");t.prototype.parseFromString=function(e){return n.jsdom(e,{features:{FetchExternalResources:[],ProcessExternalResources:!1}})}}else r()?t.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:t.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t};return t}()},{jsdom:void 0}],4:[function(e,t,n){"use strict";function r(e){if(e.className.length>0||e.id){var t="";return e.className.length>0&&(t=e.className),e.id&&(t+="#"+e.id),"("+t+")"}return""}function i(e,t){var n=[];if(e.style.length){var i=e.style.cssText;if(t)for(var o=0;o<t.length&&i.length>0;o++){var a=t[o],l=i.match(a.filter);l&&(n.push(a.replacement.apply(a,l)),i=i.replace(a.filter,"").trim())}i.length&&n.push("{"+i+"}")}return n.join("")+r(e)}function o(e){return i(e,null)}function a(e){return i(e,c)}function l(e){return i(e,u)}var c=[{filter:/padding-left:\s*([0-9]+)\s*em\s*;?/i,replacement:function(e,t){return Array(parseInt(t)+1).join("(")}},{filter:/padding-right:\s*([0-9]+)\s*em\s*;?/i,replacement:function(e,t){return Array(parseInt(t)+1).join(")")}},{filter:/text-align:\s*left\s*;?\s*;?/i,replacement:function(){return"<"}},{filter:/text-align:\s*right\s*;?/i,replacement:function(){return">"}},{filter:/text-align:\s*center\s*;?/i,replacement:function(){return"="}},{filter:/text-align:\s*justify\s*;?/i,replacement:function(){return"<>"}}],u=[{filter:/\Walign:\s*left\s*;?\s*;?/i,replacement:function(){return"<"}},{filter:/\Walign:\s*right\s*;?/i,replacement:function(){return">"}},{filter:/\Walign:\s*center\s*;?/i,replacement:function(){return"="}}];t.exports=[{filter:"p",replacement:function(e,t){var n=a(t);return n.length?"\n\np"+n+". "+e+"\n\n":"\n\n"+e+"\n\n"}},{filter:"br",replacement:function(){return"  \n"}},{filter:["h1","h2","h3","h4","h5","h6"],replacement:function(e,t){return"\n\n"+(t.nodeName.toLowerCase()+a(t))+". "+e+"\n\n"}},{filter:["em","i"],replacement:function(e,t){return"_"+o(t)+e+"_"}},{filter:["strong","b"],replacement:function(e,t){return"**"+o(t)+e+"**"}},{filter:["span"],replacement:function(e,t){return"(caps)"==o(t)?e:"%"+o(t)+e+"%"}},{filter:["cite"],replacement:function(e,t){return"??"+o(t)+e+"??"}},{filter:["del"],replacement:function(e,t){return"-"+o(t)+e+"-"}},{filter:["ins"],replacement:function(e,t){return"+"+o(t)+e+"+"}},{filter:["sup"],replacement:function(e,t){return"^"+o(t)+e+"^"}},{filter:["sub"],replacement:function(e,t){return"~"+o(t)+e+"~"}},{filter:function(e){var t=e.previousSibling||e.nextSibling,n="PRE"===e.parentNode.nodeName&&!t;return"CODE"===e.nodeName&&!n},replacement:function(e,t){return"@"+o(t)+e+"@"}},{filter:function(e){return"A"===e.nodeName&&e.getAttribute("href")},replacement:function(e,t){return'"'+e+(t.title?" ("+t.title+")":"")+'":'+t.getAttribute("href")}},{filter:"img",replacement:function(e,t){var n=t.alt||"",r=t.getAttribute("src")||"",i=t.title||n,o=i.length?"("+i+")":"";return r?"!"+l(t)+r+o+"!":""}},{filter:function(e){return"PRE"===e.nodeName&&"CODE"===e.firstChild.nodeName},replacement:function(e,t){return"\n\nbc"+a(t)+". "+t.firstChild.textContent+"\n\n"}},{filter:"blockquote",replacement:function(e,t){return e=e.trim(),e=e.replace(/\n{3,}/g,"\n\n"),"\n\nbq"+a(t)+". "+e+"\n\n"}},{filter:"li",replacement:function(e,t){return(/ul/i.test(t.parentNode.nodeName)?"* ":"# ")+e}},{filter:["ul","ol"],replacement:function(e,t){for(var n=[],r=o(t),i=0;i<t.childNodes.length;i++)0==i&&r.length?n.push(t.childNodes[i]._replacement.replace(/ /,r+" ")):n.push(t.childNodes[i]._replacement);for(var a=!1;/li/i.test(t.parentNode.nodeName);){a=!0,t=t.parentNode.parentNode;for(var l=/ul/i.test(t.nodeName)?"*":"#",i=0;i<n.length;i++)n[i]=l+n[i]}return a?"\n"+n.join("\n"):"\n\n"+n.join("\n")+"\n\n"}},{filter:function(e){return this.isBlock(e)},replacement:function(e,t){return"\n\n"+this.outer(t,e)+"\n\n"}},{filter:function(){return!0},replacement:function(e,t){return this.outer(t,e)}}]},{}],5:[function(e,t,n){"use strict";function r(e){return!(!e||!u[e.nodeName])}function i(e){return!(!e||!c[e.nodeName])}function o(e,t){if(e.firstChild&&"PRE"!==e.nodeName){"function"!=typeof t&&(t=r);for(var n=null,o=!1,c=null,u=l(c,e);u!==e;){if(3===u.nodeType){var f=u.data.replace(/[ \r\n\t]+/g," ");if(n&&!/ $/.test(n.data)||o||" "!==f[0]||(f=f.substr(1)),!f){u=a(u);continue}u.data=f,n=u}else{if(1!==u.nodeType){u=a(u);continue}t(u)||"BR"===u.nodeName?(n&&(n.data=n.data.replace(/ $/,"")),n=null,o=!1):i(u)&&(n=null,o=!0)}var s=l(c,u);c=u,u=s}n&&(n.data=n.data.replace(/ $/,""),n.data||a(n))}}function a(e){var t=e.nextSibling||e.parentNode;return e.parentNode.removeChild(e),t}function l(e,t){return e&&e.parentNode===t||"PRE"===t.nodeName?t.nextSibling||t.parentNode:t.firstChild||t.nextSibling||t.parentNode}var c=e("void-elements");Object.keys(c).forEach(function(e){c[e.toUpperCase()]=1});var u={};e("block-elements").forEach(function(e){u[e.toUpperCase()]=1}),t.exports=o},{"block-elements":6,"void-elements":7}],6:[function(e,t,n){t.exports=["address","article","aside","audio","blockquote","canvas","dd","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","noscript","ol","output","p","pre","section","table","tfoot","ul","video"]},{}],7:[function(e,t,n){t.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,menuitem:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},{}]},{},[1])(1)});